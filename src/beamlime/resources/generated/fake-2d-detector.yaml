# THIS FILE IS AUTO-GENERATED.
# Please don't update it manually.
# Use `tox -e config-build` to generate a new one.

general:
  user: beamlime
  name: Fake 2d Detector Image
  system-name: Beamlime Dashboard
  last-updated: '2023-05-15 16:34:01.596363'
  timeout: 600

data-stream:
  applications:
  - name: data-feeder
    data-handler: beamlime.handlers.data_feeder.Fake2dDetectorImageFeeder
    instance-number:
    keep-alive: false
    timeout: 1
    wait-interval: 0.2
  - name: data-reduction
    data-handler: beamlime.handlers.data_reduction.BeamLimeDataReductionApplication
    instance-number:
    keep-alive: false
    timeout: 5
    wait-interval: 0.1
  - name: visualisation
    data-handler: beamlime.handlers.visualisation.RealtimePlot
    instance-number:
    keep-alive: false
    timeout: 10
    wait-interval: 1
  application-specs:
    data-feeder:
      detector-size:
      - 64
      - 64
      min-intensity: 0.5
      num-frame: 32
      signal-mu: 0.7
      signal-err: 0.2
      noise-mu: 0.5
      noise-err: 0.2
    data-reduction:
      workflows:
      - name: heatmap
        process: heatmap_2d
        input-policy: REPLACE
        output-policy: STACK
        targets:
        - fake-2d-image
        process-kargs:
          threshold: 0.4
          binning_size:
          - 64
          - 64
      - name: frame-number-counting
        process: handover
        input-policy: REPLACE
        output-policy: REPLACE
        targets:
        - frame-number
      targets:
      - name: fake-2d-image
        index:
        - detector-data
        - image
      - name: frame-number
        index:
        - detector-data
        - frame-number
    visualisation: {}
  communication-channels:
  - name: raw-data
    type: SQUEUE
  - name: reduced-data
    type: SQUEUE
  application-subscriptions:
  - app-name: data-feeder
    input-channels:
    output-channels:
    channels:
    - name: raw-data
  - app-name: data-reduction
    input-channels:
    output-channels:
    channels:
    - name: raw-data
    - name: reduced-data
  - app-name: visualisation
    input-channels:
    output-channels:
    channels:
    - name: reduced-data
