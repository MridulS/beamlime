# THIS FILE IS AUTO-GENERATED.
# Please don't update it manually.
# Use `tox -e config-build` to generate a new one.

general:
  user: scipp
  name: default configuration
  last-updated: '2023-03-31 15:09:15.522559'
  log-dir:

dashboard:
  update-frequency: 5

data-stream:
  applications:
  - name: data-feeder
    data-handler: beamlime.offline.data_feeder.Fake2dDetectorImageFeeder
    instance-number:
    input-channel: QUEUE
    output-channel: QUEUE
    keep-alive: false
  - name: data-reduction
    data-handler: beamlime.offline.data_reduction.BeamLimeDataReductionApplication
    instance-number:
    input-channel: QUEUE
    output-channel: QUEUE
    keep-alive: false
  - name: visualization
    data-handler: beamlime.offline.visualization.RealtimePlot
    instance-number:
    input-channel: QUEUE
    output-channel: QUEUE
    keep-alive: false
  application-specs:
    data-feeder:
      detector-size:
      - 64
      - 64
      min-intensity: 0.5
      num-frame: 32
      signal-mu: 0.7
      signal-err: 0.2
      noise-mu: 0.5
      noise-err: 0.2
    data-reduction: {}
    visualization: {}
  applications-mapping:
  - from: data-feeder
    to: data-reduction
  - from: data-reduction
    to: visualization

data-reduction:
  workflows:
  - name: heatmap
    process: heatmap_2d
    input-policy: REPLACE
    output-policy: STACK
    targets:
    - fake-2d-image
    process-kargs:
      threshold: 0.4
      binning_size:
      - 64
      - 64
  - name: frame-number-counting
    process: handover
    input-policy: REPLACE
    output-policy: REPLACE
    targets:
    - frame-number
  targets:
  - name: fake-2d-image
    index:
    - detector-data
    - image
  - name: frame-number
    index:
    - detector-data
    - frame-number
